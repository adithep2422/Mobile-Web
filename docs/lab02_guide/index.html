<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KKU Campus Guide — แนะนำสถานที่ภายในมหาวิทยาลัยขอนแก่น</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <div class="brand">
                <a class="logo" href="#" aria-label="KKU Campus Guide">
                    <svg viewBox="0 0 100 100" role="img" aria-hidden="false">
                        <title>KKU logo</title>
                        <circle cx="50" cy="50" r="46" fill="#1f8dd6" />
                        <g class="mark" fill="#fff" font-family="Montserrat, Arial, sans-serif" font-weight="700" font-size="28" text-anchor="middle">
                            <text x="50" y="45">KKU</text>
                            <text x="50" y="72" font-size="10">Campus</text>
                        </g>
                    </svg>
                </a>
                <div>
                    <h1>KKU Campus Guide</h1>
                    <p class="subtitle">แนะนำสถานที่ภายในมหาวิทยาลัยขอนแก่น</p>
                </div>
            </div>
            <!-- CTA moved below header and placed above suggested places -->
            <p class="student-info">รหัสนักศึกษา: <strong>663380242-9</strong> | ชื่อ-สกุล: <strong>อดิเทพ มานันที</strong></p>
        </div>
    </header>

    <nav class="site-nav" aria-label="เมนูหลัก">
        <div class="container">
            <a href="#library">หอสมุดกลาง</a>
            <a href="#sports">สนามกีฬา</a>
            <a href="#food">ศูนย์อาหาร</a>
            <a href="#garden">สวนและพื้นที่พักผ่อน</a>
        </div>
    </nav>

    <main class="container main-content">
        <div class="top-cta-row">
            <button id="showFormBtn" class="btn-primary top-cta" aria-expanded="false" aria-controls="placeForm">แนะนำสถานที่</button>
        </div>
        <section id="library" class="place">
            <h2>หอสมุดกลาง (Central Library)</h2>
            <p class="lead">หอสมุดกลางเป็นแหล่งทรัพยากรการเรียนรู้และอ่านหนังสือ มีมุมอ่านหนังสือ ห้องคอมพิวเตอร์ และบริการยืม-คืนที่สะดวก</p>
            <div class="gallery">
                <figure>
                    <img src="https://picsum.photos/seed/library1/800/600" alt="หอสมุดกลาง ภายนอก" loading="lazy">
                    <figcaption>มุมมองภายนอกของหอสมุด</figcaption>
                </figure>
                <figure>
                    <img src="https://picsum.photos/seed/library2/800/600" alt="ภายในหอสมุด เหมาะสำหรับการอ่าน" loading="lazy">
                    <figcaption>พื้นที่อ่านหนังสือและค้นคว้า</figcaption>
                </figure>
            </div>
        </section>

        <section id="sports" class="place">
            <h2>สนามกีฬากลาง (Sports Complex)</h2>
            <p class="lead">สนามกีฬากลางรองรับกิจกรรมหลากหลายทั้งฟุตบอล บาสเกตบอล และสนามวิ่ง เหมาะสำหรับนักศึกษาและบุคลากร</p>
            <div class="gallery">
                <figure>
                    <img src="https://picsum.photos/seed/sports1/800/600" alt="สนามฟุตบอล มุมกว้าง" loading="lazy">
                    <figcaption>สนามฟุตบอลหลัก</figcaption>
                </figure>
                <figure>
                    <img src="https://picsum.photos/seed/sports2/800/600" alt="สนามกีฬา อาคารกีฬาในร่ม" loading="lazy">
                    <figcaption>ศูนย์กีฬาและอาคารอเนกประสงค์</figcaption>
                </figure>
            </div>
        </section>

        <section id="food" class="place">
            <h2>ศูนย์อาหาร (Food Center)</h2>
            <p class="lead">ศูนย์อาหารรวบรวมร้านอาหารหลากหลายราคาย่อมเยา เป็นจุดที่นักศึกษาชอบมาพบปะและเติมพลังงานระหว่างวัน</p>
            <div class="gallery">
                <figure>
                    <img src="https://picsum.photos/seed/food1/800/600" alt="ร้านอาหารในศูนย์อาหาร" loading="lazy">
                    <figcaption>แผงขายอาหารและที่นั่ง</figcaption>
                </figure>
                <figure>
                    <img src="https://picsum.photos/seed/food2/800/600" alt="มุมคาเฟ่ในมหาวิทยาลัย" loading="lazy">
                    <figcaption>คาเฟ่บรรยากาศสบาย ๆ</figcaption>
                </figure>
            </div>
        </section>

        <section id="garden" class="place">
            <h2>สวนและพื้นที่พักผ่อน (Campus Garden)</h2>
            <p class="lead">สวนสาธารณะและพื้นที่สีเขียวเหมาะสำหรับการพักผ่อน เดินเล่น หรืออ่านหนังสือกลางแจ้ง</p>
            <div class="gallery">
                <figure>
                    <img src="https://picsum.photos/seed/garden1/800/600" alt="สวนสวยภายในมหาวิทยาลัย" loading="lazy">
                    <figcaption>ทางเดินเรียบง่ายในสวน</figcaption>
                </figure>
                <figure>
                    <img src="https://picsum.photos/seed/garden2/800/600" alt="ม้านั่งพักผ่อนใต้ร่มไม้" loading="lazy">
                    <figcaption>ม้านั่งพักผ่อนใต้ร่มไม้</figcaption>
                </figure>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>KKU Campus Guide — หน้าแบบฝึกหัดสำหรับวิชาเว็บ (ตัวอย่าง)</p>
            <p>หมายเหตุ: เปลี่ยนข้อมูลรหัสนักศึกษาและชื่อ-สกุลในแถบบนสุดให้ถูกต้อง</p>
        </div>
    </footer>
    </footer>

    <!-- Modal overlay for suggestion form -->
    <div id="modalOverlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal" role="document">
            <header>
                <h3 id="modalTitle">แนะนำสถานที่ใหม่</h3>
                <button class="modal-close" id="modalCloseBtn" aria-label="ปิด">✕</button>
            </header>
            <div class="modal-body">
                <form id="modalForm" class="modal-form" novalidate>
                    <div class="form-row">
                        <label for="m_placeName">ชื่อสถานที่</label>
                        <input id="m_placeName" name="placeName" type="text" required placeholder="เช่น หอศิลป์ KKU">
                    </div>
                    <div class="form-row">
                        <label for="m_placeDesc">รายละเอียด</label>
                        <textarea id="m_placeDesc" name="placeDesc" rows="3" placeholder="คำอธิบายสั้น ๆ"></textarea>
                    </div>
                    <div class="form-row">
                        <label for="m_placeImage">URL ของภาพ</label>
                        <input id="m_placeImage" name="placeImage" type="url" placeholder="https://example.com/photo.jpg">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">ส่ง</button>
                        <button type="button" id="modalCancelBtn" class="btn-secondary">ยกเลิก</button>
                    </div>
                </form>

                <div id="successPanel" class="success-panel hidden" aria-hidden="true">
                    <svg viewBox="0 0 80 80" aria-hidden="true">
                        <circle class="check-circle path" cx="40" cy="40" r="30"></circle>
                        <polyline class="check-mark path" points="26,42 36,52 55,33"></polyline>
                    </svg>
                    <h4>ส่งเรียบร้อยแล้ว</h4>
                    <p>ขอบคุณที่แนะนำสถานที่ใหม่ ข้อมูลของคุณถูกบันทึกเรียบร้อย</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        (function(){
            const showBtn = document.getElementById('showFormBtn');
            const overlay = document.getElementById('modalOverlay');
            const closeBtn = document.getElementById('modalCloseBtn');
            const cancelBtn = document.getElementById('modalCancelBtn');
            const form = document.getElementById('modalForm');
            const firstField = document.getElementById('m_placeName');

            function openModal(){
                overlay.classList.remove('hidden');
                overlay.focus();
                // small timeout to ensure focusable
                setTimeout(()=> firstField && firstField.focus(),50);
            }
            function closeModal(){
                overlay.classList.add('hidden');
                if(showBtn) showBtn.focus();
            }

            if(showBtn){
                showBtn.addEventListener('click', openModal);
            }
            if(closeBtn){
                closeBtn.addEventListener('click', closeModal);
            }
            if(cancelBtn){
                cancelBtn.addEventListener('click', closeModal);
            }

            // close on overlay click (but not when clicking modal content)
            overlay.addEventListener('click', function(e){
                if(e.target === overlay) closeModal();
            });

            // close on escape
            document.addEventListener('keydown', function(e){
                if(e.key === 'Escape' && !overlay.classList.contains('hidden')){
                    closeModal();
                }
            });

            if(form){
                const successPanel = document.getElementById('successPanel');
                form.addEventListener('submit', function(e){
                    e.preventDefault();
                    // show animated success panel
                    form.classList.add('hidden');
                    if(successPanel){
                        successPanel.classList.remove('hidden');
                        successPanel.setAttribute('aria-hidden','false');
                        // restart animation by reflow
                        const paths = successPanel.querySelectorAll('.path');
                        paths.forEach(p => {
                            p.style.strokeDashoffset = p.getTotalLength();
                            // force reflow
                            void p.getBoundingClientRect();
                            p.style.transition = '';
                        });
                        // allow CSS animations defined in stylesheet to run
                        setTimeout(()=> {
                            successPanel.classList.add('animate');
                        },20);
                        // auto-close modal after animation completes
                        setTimeout(()=>{
                            // reset panels
                            successPanel.classList.add('hidden');
                            successPanel.setAttribute('aria-hidden','true');
                            form.reset();
                            form.classList.remove('hidden');
                            closeModal();
                        }, 1600);
                    } else {
                        // fallback
                        alert('ขอบคุณสำหรับการแนะนำ!');
                        form.reset();
                        closeModal();
                    }
                });
            }
        })();
    </script>
</body>
</html>